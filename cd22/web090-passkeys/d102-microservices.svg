<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="629px" preserveAspectRatio="none" style="width:582px;height:629px;background:#FFFFFF;" version="1.1" viewBox="0 0 582 629" width="582px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="617.432" style="stroke:#181818;stroke-width:0.5;" width="281" x="293" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="380" y="21.08">Docker compose</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="85.2719" y2="540.1601"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="243" x2="243" y1="85.2719" y2="540.1601"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="332" x2="332" y1="85.2719" y2="540.1601"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="450" x2="450" y1="85.2719" y2="540.1601"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="534" x2="534" y1="85.2719" y2="540.1601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="81.2399">Alice</text><ellipse cx="24" cy="13.5" fill="#FFFF00" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M24,21.5 L24,48.5 M11,29.5 L37,29.5 M24,48.5 L11,63.5 M24,48.5 L37,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="555.4">Alice</text><ellipse cx="24" cy="567.932" fill="#FFFF00" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M24,575.932 L24,602.932 M11,583.932 L37,583.932 M24,602.932 L11,617.932 M24,602.932 L37,617.932 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="199" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="206" y="73.2399">ServiceOne</text><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="199" y="539.1601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="206" y="562.4">ServiceOne</text><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="297" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="304" y="73.2399">Gateway</text><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="297" y="539.1601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="304" y="562.4">Gateway</text><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="413" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="420" y="73.2399">Frontend</text><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="413" y="539.1601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="420" y="562.4">Frontend</text><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="498" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="505" y="73.2399">Backend</text><rect fill="#E2E2F0" height="34.2719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="498" y="539.1601"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="505" y="562.4">Backend</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="575" x="0" y="117.6839"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="575" y1="117.6839" y2="117.6839"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="575" y1="120.6839" y2="120.6839"/><rect fill="#EEEEEE" height="26.824" style="stroke:#000000;stroke-width:2.0;" width="133" x="221" y="105.2719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="227" y="124.3519">Monolithic service</text><polygon fill="#181818" points="231,162.9199,241,166.9199,231,170.9199,235,166.9199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="24" x2="237" y1="166.9199" y2="166.9199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="31" y="161.1759">101</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="59" y="161.1759">webauthn registration html</text><polygon fill="#181818" points="231,195.744,241,199.744,231,203.744,235,199.744" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="24" x2="237" y1="199.744" y2="199.744"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="31" y="194">102</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="59" y="194">/webauthn/register</text><polygon fill="#181818" points="35,228.568,25,232.568,35,236.568,31,232.568" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="242" y1="232.568" y2="232.568"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="41" y="226.824">103</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="69" y="226.824">challenge</text><line style="stroke:#181818;stroke-width:1.0;" x1="24" x2="66" y1="265.392" y2="265.392"/><line style="stroke:#181818;stroke-width:1.0;" x1="66" x2="66" y1="265.392" y2="278.392"/><line style="stroke:#181818;stroke-width:1.0;" x1="25" x2="66" y1="278.392" y2="278.392"/><polygon fill="#181818" points="35,274.392,25,278.392,35,282.392,31,278.392" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="31" y="259.648">104</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="59" y="259.648">browser call authenticator...</text><polygon fill="#181818" points="231,307.216,241,311.216,231,315.216,235,311.216" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="24" x2="237" y1="311.216" y2="311.216"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="31" y="305.472">105</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="59" y="305.472">/webauthn/attestation</text><polygon fill="#181818" points="35,340.04,25,344.04,35,348.04,31,344.04" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="242" y1="344.04" y2="344.04"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="41" y="338.296">106</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="69" y="338.296">HTTP OK</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="575" x="0" y="374.452"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="575" y1="374.452" y2="374.452"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="575" y1="377.452" y2="377.452"/><rect fill="#EEEEEE" height="26.824" style="stroke:#000000;stroke-width:2.0;" width="105" x="235" y="362.04"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="88" x="241" y="381.12">Microservices</text><polygon fill="#181818" points="320.5,419.6881,330.5,423.6881,320.5,427.6881,324.5,423.6881" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="24" x2="326.5" y1="423.6881" y2="423.6881"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="31" y="417.9441">201</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="59" y="417.9441">webauthn registration</text><polygon fill="#181818" points="343.5,452.5121,333.5,456.5121,343.5,460.5121,339.5,456.5121" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="438.5,452.5121,448.5,456.5121,438.5,460.5121,442.5,456.5121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="337.5" x2="444.5" y1="456.5121" y2="456.5121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="349.5" y="450.7681">202</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="377.5" y="450.7681">static html</text><polygon fill="#181818" points="343.5,485.3361,333.5,489.3361,343.5,493.3361,339.5,489.3361" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="522,485.3361,532,489.3361,522,493.3361,526,489.3361" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="337.5" x2="528" y1="489.3361" y2="489.3361"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="349.5" y="483.5921">203</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="377.5" y="483.5921">/webauthn api</text><polygon fill="#181818" points="35,518.1601,25,522.1601,35,526.1601,31,522.1601" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="331.5" y1="522.1601" y2="522.1601"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="41" y="516.4161">204</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="69" y="516.4161">HTTP OK</text><!--MD5=[ccc69439ddffa8d2460e916ee1189351]
@startuml d102-microservices
actor "Alice" as dev #Yellow
participant "ServiceOne" as SRVA

box "Docker compose"
    participant "Gateway" as GW
    participant "Frontend" as FE
    participant "Backend" as BE
end box

== Monolithic service ==
autonumber 101
dev -> SRVA: webauthn registration html
dev -> SRVA: /webauthn/register
SRVA -> dev: challenge
dev -> dev: browser call authenticator...
dev -> SRVA: /webauthn/attestation
SRVA -> dev: HTTP OK
== Microservices ==
autonumber 201
dev -> GW: webauthn registration
GW <-> FE: static html
GW <-> BE: /webauthn api
GW -> dev: HTTP OK
@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: TW
--></g></svg>
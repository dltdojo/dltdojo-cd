<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="582px" preserveAspectRatio="none" style="width:760px;height:582px;background:#FFFFFF;" version="1.1" viewBox="0 0 760 582" width="760px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="570.1518" style="stroke:#181818;stroke-width:0.5;" width="274.5" x="477.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="123" x="553.25" y="21.08">Kubernetes Cluster</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="105.5438" y2="472.608"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="121" x2="121" y1="105.5438" y2="472.608"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="338" x2="338" y1="105.5438" y2="472.608"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="510.5" x2="510.5" y1="105.5438" y2="472.608"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="710" x2="710" y1="105.5438" y2="472.608"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="5" y="81.2399">Developer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="7.5" y="101.5118">,Operator</text><ellipse cx="41.5" cy="13.5" fill="#FFFF00" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M41.5,21.5 L41.5,48.5 M28.5,29.5 L54.5,29.5 M41.5,48.5 L28.5,63.5 M41.5,48.5 L54.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="5" y="487.8479">Developer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="7.5" y="508.1198">,Operator</text><ellipse cx="41.5" cy="520.6518" fill="#FFFF00" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M41.5,528.6518 L41.5,555.6518 M28.5,536.6518 L54.5,536.6518 M41.5,555.6518 L28.5,570.6518 M41.5,555.6518 L54.5,570.6518 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="101" y="81.2399">Code</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="88" y="101.5118">Reviewer</text><ellipse cx="121" cy="13.5" fill="#FF0000" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M121,21.5 L121,48.5 M108,29.5 L134,29.5 M121,48.5 L108,63.5 M121,48.5 L134,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="101" y="487.8479">Code</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="88" y="508.1198">Reviewer</text><ellipse cx="121" cy="520.6518" fill="#FF0000" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M121,528.6518 L121,555.6518 M108,536.6518 L134,536.6518 M121,555.6518 L108,570.6518 M121,555.6518 L134,570.6518 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="54.5438" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="296" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="328.5" y="73.2399">Git</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="303" y="93.5118">Repository</text><rect fill="#E2E2F0" height="54.5438" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="296" y="471.608"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="328.5" y="494.8479">Git</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="303" y="515.1198">Repository</text><rect fill="#E2E2F0" height="54.5438" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="481.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="488.5" y="73.2399">GitOps</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="491.5" y="93.5118">Agent</text><rect fill="#E2E2F0" height="54.5438" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="481.5" y="471.608"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="488.5" y="494.8479">GitOps</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="491.5" y="515.1198">Agent</text><rect fill="#E2E2F0" height="74.8157" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="672" y="29.7281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="693" y="52.968">State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="679" y="73.2399">,Software</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="686.5" y="93.5118">,Config</text><rect fill="#E2E2F0" height="74.8157" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="672" y="471.608"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="693" y="494.8479">State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="679" y="515.1198">,Software</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="686.5" y="535.3918">,Config</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="753" x="0" y="137.9558"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="753" y1="137.9558" y2="137.9558"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="753" y1="140.9558" y2="140.9558"/><rect fill="#EEEEEE" height="26.824" style="stroke:#000000;stroke-width:2.0;" width="137" x="308" y="125.5438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="314" y="144.6238">kubectl and scripts</text><polygon fill="#181818" points="698,183.1919,708,187.1919,698,191.1919,702,187.1919" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="704" y1="187.1919" y2="187.1919"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="48.5" y="181.4479">101</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="76.5" y="181.4479">sh something; kubectl edit something</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="753" x="0" y="217.6039"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="753" y1="217.6039" y2="217.6039"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="753" y1="220.6039" y2="220.6039"/><rect fill="#EEEEEE" height="26.824" style="stroke:#000000;stroke-width:2.0;" width="203" x="275" y="205.1919"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="186" x="281" y="224.2719">GitOps: No kubectl, no scripts</text><polygon fill="#181818" points="326,262.8399,336,266.8399,326,270.8399,330,266.8399" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="41.5" x2="332" y1="266.8399" y2="266.8399"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="48.5" y="261.0959">201</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="76.5" y="261.0959">Submit PR</text><polygon fill="#181818" points="326,295.6639,336,299.6639,326,303.6639,330,299.6639" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121" x2="332" y1="299.6639" y2="299.6639"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="128" y="293.9199">202</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="156" y="293.9199">Review and accept PR</text><polygon fill="#181818" points="326,328.4879,336,332.4879,326,336.4879,330,332.4879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121" x2="332" y1="332.4879" y2="332.4879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="128" y="326.7439">203</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="156" y="326.7439">Merge changes with master</text><polygon fill="#181818" points="349,398.96,339,402.96,349,406.96,345,402.96" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="343" x2="510" y1="402.96" y2="402.96"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="355" y="378.392">204</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="383" y="359.5679">Observer repository</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="386" y="378.392">and pull changes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="383" y="397.216">from git repo</text><polygon fill="#181818" points="698,450.608,708,454.608,698,458.608,702,454.608" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="511" x2="704" y1="454.608" y2="454.608"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="518" y="439.452">205</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="546" y="430.04">Sync/Ensure state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="549" y="448.864">consistent with git repo</text><!--MD5=[e57bd5c792e8c1d2fb16a8c6b94bb028]
@startuml d301-gitops
actor "Developer\n,Operator" as dev #Yellow
actor "Code\nReviewer" as rev #red
participant "Git\nRepository" as git

box "Kubernetes Cluster"
    participant "GitOps\nAgent" as agent
    participant "State\n,Software\n,Config" as soft
end box

== kubectl and scripts ==
autonumber 101
dev -> soft: sh something; kubectl edit something
== GitOps: No kubectl, no scripts ==
autonumber 201
dev -> git: Submit PR
rev -> git: Review and accept PR
rev -> git: Merge changes with master
agent -> git: Observer repository\n and pull changes\nfrom git repo
agent -> soft: Sync/Ensure state\n consistent with git repo


@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: TW
--></g></svg>